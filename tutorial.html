<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="stage.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="slick.min.js"></script>
  <link rel="stylesheet" href="slick-tutorial.css">
  <link rel="stylesheet" href="slicktutorial.css">
  <link rel="stylesheet" href="commom.css">
  <link rel="stylesheet" href="tutorial.css">
</head>
<body>
  <div class="warp">
    <section>
      <div class="back"><img src="img/BG 1.png" alt=""></div>

      <div class="tutorial_imgwrap">
        <div class="script_wrap">
          <img class="script" src="tutorial_img/Tutorial_Background 2.png" alt="" />

          <div class="scriptslider slider">
            <div class="one-time">
              <div class="box" >
                <p class="tutorial_explan"></p>
                <!--튜토리얼 1설명-->
              </div>
              <div class="box" >
                <p class="tutorial_explan TWO"></p>
                <!-- 튜토리얼2설명-->
              </div>
              <div class="box" >
                <p class="tutorial_explan THREE"></p>
                <!--튜토리얼3설명-->
              </div>
              <div class="box" >
                <p class="tutorial_explan detaile" style="height: 162px;"></p>
                <div class="img_Ex">
                  <div class="imgwrap"><img src="img/box 1.png" alt=""><p>?</p></div>
                  <div class="imgwrap"><img src="img/box 1.png" alt=""><p>?</p></div>
                  <div class="imgwrap"><img src="img/box 1.png" alt=""><p>?</p></div>
                  <div class="imgwrap"><img src="img/box 1.png" alt=""><p>?</p></div>
                </div>
                
                <!--튜토리얼설명-->
              </div>
              <div class="box" >
                <p class="tutorial_explan FOUR" style="height: 246px;"></p>
                <div class="stage_Link"> <a href="stage.html">LET’S CAKE IT</a></div>
               
                <!--튜토리얼설명끝-->
              </div>
            </div>
          </div>
          <!-- Navigation Arrows -->
          <button class="slick-prev">Previous</button>
          <button class="slick-next">Next</button>
        </div>
        <img class="tutorial_ham" src="tutorial_img/tutorial_ham 1.png" alt="" />
        <img class="tutorial_cake" src="tutorial_img/tutorialcake 1.png" alt="" />
      </div>
    </section>
  </div>

  <script>
    $(document).ready(function () {
      $(".one-time").slick({
        autoplay: false,
        dots: false,
        infinite: false,
        slidesToShow: 1,
        slidesToScroll: 1,
        adaptiveHeight: true,
        arrows: true,
        prevArrow: $('.slick-prev'),
        nextArrow: $('.slick-next'),
        vertical: false
      });

      function typeWriter(text, i, target, fnCallback) {
        if (i < text.length) {
          $(target).html(text.substring(0, i + 1));
          setTimeout(function () {
            typeWriter(text, i + 1, target, fnCallback);
          }, 100);
        } else if (typeof fnCallback == "function") {
          setTimeout(fnCallback, 1000);
        }
      }

      function startTextAnimation(texts, index, target) {
        if (index < texts.length) {
          typeWriter(texts[index], 0, target, function () {
            startTextAnimation(texts, index + 1, target);
          });
        }
      }

      var dataText1 = [
        "안녕? 전설의 케이크를 찾으러 온걸 환영해.."
      ];
      var dataText2 = [
        "전설의 케이크를 만들려면 4가지 재료가 필요해"
      ];
      var dataText3 = [
        "4가지 재료에 대해 설명해줄게"
      ];
      var dataText4 = [
        "각각의 재료를 한가지씩 골라서 섞어주면....마법의 케이크가 완성된단다."
      ];
      var dataText5 = [
        "그럼 케이크를 만들러 가볼까?"
      ];

      $(document).ready(function () {
        startTextAnimation(dataText1, 0, '.tutorial_explan');
        startTextAnimation(dataText2, 0, '.tutorial_explan.TWO');
        startTextAnimation(dataText3, 0, '.tutorial_explan.THREE');
        startTextAnimation(dataText4, 0, '.tutorial_explan.detaile');
        startTextAnimation(dataText5, 0, '.tutorial_explan.FOUR');
      });

      $(".one-time").on('afterChange', function (event, slick, currentSlide) {
        $('.tutorial_explan').removeClass('active');
        $('.tutorial_explan').eq(currentSlide).addClass('active');
        var currentText = eval("dataText" + (currentSlide + 1));
        startTextAnimation(currentText, 0, '.tutorial_explan.active');
      });

    });

  </script>
</body>
</html>
